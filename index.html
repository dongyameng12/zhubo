<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>天津电信</title>
    <link rel="stylesheet" href="css/reset.min.css">
    <!-- <link rel="stylesheet/less" href="css/styles.less"> -->
    <link rel="stylesheet" href="css/styles.css">
    <!-- <script src="js/less-1.7.0.min.js"></script> -->
    <script src="js/jquery-1.10.1.min.js"></script>
    <script src="js/jquery.rotate.min.js"></script>
    <script type="text/javascript" src="js/utf.js"></script>
    <script type="text/javascript" src="js/jquery.qrcode.js"></script>
    <script src="js/fastclick.js"></script>
    <script src="js/html2canvas.min.js"></script>
    <script src="js/imgLoader.js"></script>
    <script>
        imgLoader([
            'images/change.png',
            'images/chou-txt.png',
            'images/close.png',
            'images/code_01.png',
            'images/code_02.png',
            'images/d_01.png',
            'images/d_02.png',
            'images/decoration_01.png',
            'images/decoration_02.png',
            'images/decoration_03.png',
            'images/di_01.png',
            'images/di_title.png',
            'images/first_01.png',
            'images/first_02.png',
            'images/li_01.png',
            'images/li_02.png',
            'images/li_03.png',
            'images/li_04.png',
            'images/my_01.png',
            'images/my_title.png',
            'images/my.png',
            'images/playbtn1.png',
            'images/playbtn2.png',
            'images/qita_bg.png',
            'images/return.png',
            'images/rule.png',
            'images/share_01.png',
            'images/turn_bg.png',
            'images/turn_01.png',
            'images/turn_02.png',
            'images/turntable-bg.png',
            'images/code_tu.png',
            'images/zhubo.png',
            'font/方正汉真广标.woff2',
            'font/方正汉真广标.woff',
            'font/方正汉真广标.ttf',
            'font/方正汉真广标.eot',
            'font/方正汉真广标.svg'
        ], function (percentage) {
            var percentT = percentage * 100;
            $('.loader_info').html('Loading ' + (parseInt(percentT)) + '%');
            $('.loader_progress')[0].style.width = percentT + '%';
            if (percentage == 1) {
                generateImage('qrcodefirst', 'picfirst');
                $('.loader').remove();
                $('.recode').show();
            }
        });
    </script>
</head>
<body>
    <!-- 测试 -->
    <button style="position: absolute;top: 0;z-index: 100; font-size:.28rem;" class="test1">抽奖码123</button>
    <button style="position: absolute;top: 0.5rem;z-index: 100;font-size:.28rem;" class="test2">多次次抽奖机会</button>
    <!--loading-->
    <section class="loader">
        <div class="loader_info"></div>
        <div>
            <div class="loader_progress"></div>
        </div>
    </section>
    <!-- 兑换码 -->
    <section class="recode">
        <div></div>
        <div>
            <div>
                <p>抽奖码</p>
                <input type="text" id="inputexchange" onkeyup="this.value=this.value.replace(/\D/g,'')" onafterpaste="this.value=this.value.replace(/\D/g,'')">
            </div>
            <p><span id="exchangefail"></span> </p>
            <a href="javascript:void(0);" id="prove"></a>
        </div>
        <div>
            <div>
                <ul>
                    <li>1.观看天津10000直播有机会获取口令。</li>
                    <li>1.观看天津10000直播有机会获取口令。</li>
                    <li>1.观看天津10000直播有机会获取口令。</li>
                </ul>
            </div>
        </div>
        <div>
                <div>
                    <div class="qrcodefirst" id="picfirst"></div>
                </div>
            <div></div>
        </div>
    </section>
    <!-- 抽奖页 -->
    <section class="lottery">
        <div></div>
        <div>
            <div>
                <a href="javascript:void(0);" class="rulebtn">活动规则</a>
                <a href="javascript:void(0);">抽奖机会：<span class="playnum"></span>次</a>
            </div>
            <!-- 转盘 -->
            <div>
                <div class="playbtn_bg"></div>
                <div class="play-btn" id="playbtnWrap">
                    <img src="./images/chou-txt.png" class="chou-txt">
                    <img src="./images/playbtn1.png" id="playbtn">
                    <!-- <img src="./images/test.png" id="playbtn"> -->
                </div>
            </div>
            <div>
                <a href="javascript:void(0);" id="mypraise"></a>
                <a href="javascript:void(0);" id="sendto"></a>
            </div>
        </div>
        <div>
            <div>
                <!-- 二维码 -->
                <div class="qrcode" id="pic"></div>
            </div>
            <div></div>
        </div>
    </section>
    <!-- 我的奖品 -->
    <section class="gift">
        <div><span></span></div>
        <div>
            <div>
                <ul class="winlist">
                    <!-- 第一版 -->
                    <li class="jingdong">
                        <div>京东卡</div>
                        <div>
                            <p><span>30</span>元</p>
                            <p>卡号：<span>9087987979712312312312</span> </p>
                            <p>密码：<span>231231321</span></p>
                            <p>中奖日期:<span></span>2018.12.12</span></p>
                        </div>
                        <a href="javascript:void(0);"class='directions'></a>
                    </li>
                    <li class="yingpiao">
                        <div>影票</div>
                        <div>
                            <p>网票网电子卡密</p>
                            <p>卡号：<span>9087987979712312312312</span> </p>
                            <p>密码：<span>231231321</span></p>
                            <p>中奖日期:<span></span>2018.12.12</span></p>
                        </div>
                        <a href="javascript:void(0);"class='directions'></a>
                    </li>
                    <li class="shipin">
                        <div>视频</div>
                        <div>
                            <p>爱奇艺月卡</p>
                            <p>卡号：<span>9087987979712312312312</span> </p>
                            <p>密码：<span>231231321</span></p>
                            <p>中奖日期:<span></span>2018.12.12</span></p>
                        </div>
                        <a href="javascript:void(0);" class='directions'></a>
                    </li>
                    <li class="huafei">
                        <div>话费</div>
                        <div>
                            <p><span>50</span>
                                <span>元</span>
                                <span>电信话费</span></p>
                            <p>中奖日期:<span></span></p>
                        </div>
                    
                    </li>
                    <!-- 第二版 -->
                    <li class="jingdong2">
                        <div>京东卡</div>
                        <div>
                            <p><span>30</span>元</p>
                            <p>激活码：<span>90879879797123123123129087987979712312312312</span> </p>
                            <p>中奖日期:<span></span>2018.12.12</span></p>
                        </div>
                        <a href="javascript:void(0);"class='directions'></a>
                    </li>
                    <li class="yingpiao2">
                        <div>影票</div>
                        <div>
                            <p>网票网电子卡密</p>
                            <p>激活码：<span>90879879797123123123129087987979712312312312</span> </p>
                            <p>中奖日期:<span></span>2018.12.12</span> </p>
                        </div>
                        <a href="javascript:void(0);" class='directions'></a>
                    </li>
                    <li class="shipin2">
                        <div>视频</div>
                        <div>
                            <p>爱奇艺月卡</p>
                            <p>激活码：<span>90879879797123123123129087987979712312312312</span> </p>
                            <p>中奖日期:<span></span>2018.12.12</span></p>
                        </div>
                        <a href="javascript:void(0);"class='directions'></a>
                    </li>
                </ul>
            </div>
            <a href="javscript:void(0);" class="return">返回主页</a>
        </div>
    </section>
    <!-- 使用说明 -->
    <section class="used">
            <div><span></span></div>
            <div>
                <div>
                    <ul class="used_context">
                        <li>使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明</li>
                        <li>使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明</li>
                        <li>使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明</li>
                        <li>使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明</li>
                        <li>使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明</li>
                        <li>使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明</li>
                        <li>使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明</li>
                        <li>使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明</li>
                        <li>使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明</li>
                        <li>使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明</li>
                        <li>使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明</li>
                        <li>使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明</li>
                        <li>使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明</li>
                        <li>使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明</li>
                        <li>使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明使用说明</li>
                    </ul>
                </div>
                <a href="javscript:void(0);" class="used_return">返回</a>
            </div>
    </section>
    <!-- 好友分享 -->
    <section class="pop share">
        <div></div>
    </section>
    <!-- 活动规则 -->
    <section class="pop rule">
        <div>
            <p>活动规则</p>
            <div>
                <ul>
                    <li>活动规则活动规则活动规则活动规则活动规则活动规则活动规则活动规则活动规则活动规则活动规则活动规则活动规则活动规则活动规则活动规则</li>
                    <li>活动规则活动规则活动规则活动规则活动规则活动规则活动规则活动规则</li>
                    <li>活动规则活动规则活动规则活动规则活动规则活动规则活动规则活动规则</li>
                    <li>活动规则活动规则活动规则活动规则活动规则活动规则活动规则活动规则</li>
                    <li>活动规则活动规则活动规则活动规则活动规则活动规则活动规则活动规则</li>
                    <li>活动规则活动规则活动规则活动规则活动规则活动规则活动规则活动规则</li>
                    <li>活动规则活动规则活动规则活动规则活动规则活动规则活动规则活动规则</li>
                    <li>活动规则活动规则活动规则活动规则活动规则活动规则活动规则活动规则</li>
                </ul>
            </div>
        </div>
        <a href="javascript:void(0);" class="close"></a>
    </section>
    <!-- 一等奖 -->
    <section class="pop firstprize">
        <div>
            <div>
                <p></p>
                <div id="prizecontent">
                    <p>一等奖</p>
                    <p>
                        <span>恭喜您抽中电影票</span>
                        <span>恭喜您抽中电影票</span>
                    </p>
                
                </div>
            </div>
        </div>
        <a href="javascript:void(0);" class="close"></a>
    </section>
    <!-- 没中奖 -->
    <section class="pop unprize">
        <div>
            <p></p>
            <p>
                <span>很遗憾</span>
                <span>奖品与您擦肩而过</span>
            </p>
        </div>
        <a href="javascript:void(0);" class="close"></a>
    </section>
    <!-- 提示没有中奖机会 -->
    <section class="pop commonbg" id="nochange">
        <div>
            <div>
                <p>您已经没有抽奖机会</p>
            </div>
        </div>
        <a href="javascript:void(0);" class="close"></a>
    </section>
    <!-- 遮罩层 -->
    <section class="mask" id="mask"></section>
    <script>
        //参数分别是二维码的class，和id
          function erweima_pic (classname, idname) {
              var getimg_length = $('.'+classname).children('img').length
              if (getimg_length == 0) {
                  var copyDom = $('#'+idname).children('canvas')[0]
                  var width = copyDom.width;
                  var height = copyDom.height;
                  var scale = 2;
                  html2canvas(document.getElementById(idname),{
                      dpi:window.devicePixelRatio*2,
                      scale:scale,
                      width:width,
                      height:height,
                  }).then(function(canvas){
                      var imgUrl = canvas.toDataURL();
                      $('#'+idname).css({'width':width,'height':height,'margin':'0 auto'})
                      $('#'+idname).html('<img class="cavas_img" src="'+imgUrl+'" style="width:'+width+'px;height:'+height+'px">');
                  })
              }
          }
          // 二维码
          function erweima (classname){
              var link = "http://www.baidu.com"     //其中link为需生成二维码的链接
              $("."+classname).qrcode(
                  {
                     render : "canvas",    //设置渲染方式，有table和canvas，使用canvas方式渲染性能相对来说比较好
                     text : link,    //扫描二维码后显示的内容,可以直接填一个网址，扫描二维码后自动跳向该链接
                     width : "90",            // //二维码的宽度
                     height : "90",              //二维码的高度
                     background : "#ffffff",       //二维码的后景色
                     foreground : "#459b98",        //二维码的前景色
                     src: './images/code_tu.png'             //二维码中间的图片
              }
              );
              
          }
          // 生成图片方法
          function generateImage (classname,idname) {
              erweima(classname);
              setTimeout(function () {
                  // 调用二维码生层图片
                  erweima_pic(classname,idname);
              }, 1000);
          }
  </script>
</body>
</html>
<script src="js/index.js"></script>